<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Cotizaci√≥n en BNC y FWND</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/ico" href="iconoArsUsdt128x128.ico">
    <link rel="stylesheet" href="styles.css"> <!-- Enlaza tu archivo CSS externo -->
</head>
<body>
    <div class="datoImagen">
        <img src="iconoArsUsdt3.png" alt="coinArsUsdt" id="imagenCentral">
        <p id="precioBinance">Binance...</p>
        <div class="datos">
            <div class="contenedor1">     
                <p id="precioFiwind">Fiwind...</p>
                <p id="diferenciaPorcentual">Datos...</p>
            </div>
            <div class="contenedor2">
                <p id="precioBelo">Belo...</p>
                <p id="diferenciaPorcentual2">Datos...</p>
            </div>
        </div>
    </div>
    <script src="spreadBF.js"></script>
    <script>
        // Llama a las funciones para obtener las cotizaciones
        obtenerCotizacionBinance().then(cotizacionBinance => {
            document.getElementById("precioBinance").textContent = `BINANCE: ${cotizacionBinance} ARS`;
        });
        obtenerCotizacionFiwind().then(cotizacionFiwind => {
            document.getElementById("precioFiwind").textContent = `FIWIND: ${cotizacionFiwind} ARS`;
        });
        obtenerCotizacionBelo().then(cotizacionBelo => {
            document.getElementById("precioBelo").textContent = ` BELO : ${cotizacionBelo} ARS`;
        });
        // Actualizar cada 3 segundos 
        setInterval(async () => {
            const cotizacionBinance = await obtenerCotizacionBinance();
            const cotizacionFiwind = await obtenerCotizacionFiwind();
            const cotizacionBelo = await obtenerCotizacionBelo();
            if (cotizacionBinance && cotizacionFiwind) {
                document.getElementById("precioBinance").textContent = `BINANCE: ${cotizacionBinance} ARS`;
                document.getElementById("precioFiwind").textContent = `FIWIND: ${cotizacionFiwind} ARS`;
                document.getElementById("precioBelo").textContent = ` BELO : ${cotizacionBelo} ARS`;
                const diferenciaPorcentual = ((cotizacionFiwind - cotizacionBinance) / cotizacionBinance) * 100;
                document.getElementById("diferenciaPorcentual").textContent = ` ${diferenciaPorcentual.toFixed(2)}%`;
                const diferenciaPorcentual2 = ((cotizacionBelo - cotizacionBinance) / cotizacionBinance) * 100;
                document.getElementById("diferenciaPorcentual2").textContent = ` ${diferenciaPorcentual2.toFixed(2)}%`;
            }
        }, 3000);
    </script>
</body>
</html>